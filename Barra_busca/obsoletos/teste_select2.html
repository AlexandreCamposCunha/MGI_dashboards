<!DOCTYPE html>
<html>
<head> 
    <title>Exemplo Select2 com JSONbin API</title>
    <base href="https://www.gov.br/servidor/pt-br/observatorio-de-pessoal-govbr/" /><!--[if lt IE 7]></base><![endif]-->
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta property="og:title" content="Observatório de Pessoal" />
    <meta property="og:description" content="Hub de Dados e Evidências em Gestão de Pessoas" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.gov.br/servidor/pt-br/observatorio-de-pessoal-govbr" />
    <meta property="og:image" content="https://www.gov.br/servidor/logo.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@" />
    <meta name="description" content="Hub de Dados e Evidências em Gestão de Pessoas" />
    <meta property="creator.productor" content="http://estruturaorganizacional.dados.gov.br/id/unidade-organizacional/26" />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:site_name" content="Portal do Servidor" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://www.gov.br/servidor/portal_css/Sunburst%20Theme/resourcebrasil.gov.newfieldcomplementbootstrap_table-cachekey-5aeb19e65e69e074210afe377f4e56ae.css" media="screen" />
    <script type="text/javascript" src="https://www.gov.br/servidor/portal_javascripts/Sunburst%20Theme/resourcecollective.js.bootstrapjsbootstrap.min-cachekey-4ab2559416c4702df5fadc6f1b7ba4bb.js"></script>
   
    
    
</head>
<body>
    <div class="container">
        <div class="row">
          <div class="col-md-6 offset-md-3 mt-5">
            <select id="meu-select" class="form-control" multiple="multiple">
          </div>



  <script>
    $(document).ready(function() {
  $("#meu-select").select2({
    minimumInputLength: 2,
    ajax: {
      url: "https://raw.githubusercontent.com/AlexandreCamposCunha/MGI_dashboards/2b78e6dba09efc171334f1d4264565ce39ab0ce6/dados_brutos/dados_rev2.json",
      dataType: 'json',
      data: (params) => {
        return {
          q: params.term,
        }
      },
      processResults: (data, params) => {
        var self = this;
        var items = data.record;
        var filteredItems = [];

        // Filtre os itens com base no texto digitado pelo usuário
        for (var i = 0; i < items.length; i++) {
            var bla = items[i].text.toLowerCase()
            var ble = params.term ? params.term.toLowerCase(): '';
            if (bla.includes(ble)) {
                console.log(params.term)
                console.log(items[i].text)
                filteredItems.push(items[i]);
                }
          
        }

        return {
          results: filteredItems
        };
      },
      cache: true
      
    },
  });
})
  </script>
</body>
</html>

   
